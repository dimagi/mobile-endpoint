<?xml version="1.0"?>
<!DOCTYPE tsung SYSTEM "{{ dtd_path }}" []>
<tsung loglevel="info">
    <clients>
        <client host="localhost" use_controller_vm="true" maxusers="1000"/>
    </clients>

    <servers>
        <server host="{{ hq_host }}" port="{{ hq_port }}" type="tcp"></server>
    </servers>

    <load>
        <arrivalphase phase="1" duration="{{ duration }}" unit="second">
            <users arrivalrate="{{ arrival_rate}}" unit="second"></users>
        </arrivalphase>
    </load>

    <sessions>

        <session probability="50" name="form-submission-new-case" type="ts_http">
            <request>
                <http
                    url="/a/foo-proj/receiver/{{ HQ_APP_ID }}/"
                    method="POST"
                    version="1.1"
                    contents_from_file="{{ simple_submission }}"
                ></http>
                <!-- TODO: Submit a form that creates cases instead of a simple form -->
            </request>
        </session>

        <session probability="50" name="form-submission-update-case" type="ts_http">
            <request>
                <http
                    url="/a/foo-proj/receiver/{{ HQ_APP_ID }}/"
                    method="POST"
                    version="1.1"
                    contents_from_file="{{ simple_submission }}"
                ></http>
                <!-- TODO: Submit a form that updates cases instead of a simple form -->
            </request>
        </session>

    </sessions>
</tsung>
